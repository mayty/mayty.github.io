<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
<META HTTP-EQUIV="Content-Language" CONTENT="ru">

<title>Лекция</title>
<style type="text/css">
 body {font-family: Arial, sans-serif;}
 .c {font-family: "Courier New", Courier, monospace}
</style>

</HEAD><BODY>

<div align="justify">

<p>&nbsp;</p>
<div align="center">
<p><strong>АКТИВНОЕ СЕТЕВОЕ ОБОРУДОВАНИЕ</strong></p>
</div>
<p>&nbsp;</p>

<p>Сетевое оборудование, способное анализировать передаваемую информацию называется <em>активным</em> (active).</p>

<p>Общая классификация:</p>

<p>1.&nbsp;<em>Коммутаторы</em> (switches) -- работают на втором уровне модели OSI и осуществляют целевую передачу принятых пакетов (кадров) в единственных правильных направлениях (в пределах сегментов).</p>

<p>2.&nbsp;<em>Маршрутизаторы</em> (routers) -- работают на третьем уровне модели OSI и осуществляют передачу принятых пакетов в соответствии с маршрутной информацией.</p>

<p>Этот список можно смело дополнить еще одним типом оборудования:</p>

<p>+3.&nbsp;<em>Шлюзы</em> (gateways) -- не то же самое, что IP-шлюзы -- осуществляют «перенаправление» сетевых сервисов прикладного уровня.</p>

<p>С точки зрения крупноблочного проектирования все современные коммутаторы можно свести к трем базовым структурным схемам (и их комбинации):<br>
1.&nbsp;На основе коммутационной матрицы (crossbar fabric) -- пакеты между портами проходят по выделенным путям, проложенным через коммутационную матрицу.<br>
2.&nbsp;На основе разделяемой шины (bus backplane) -- пакеты проходят через связывающую все порты общую высокоскоростную шину.<br>
3.&nbsp;На основе разделяемой памяти (shared memory) -- пакеты перемещаются между портами посредством размещения в общей для всех портов памяти.</p>

<p>Следует различать программную и аппаратную буферизацию.</p>

<p>Следует учитывать и тот факт, что современные сетевые контроллеры (выполняющие роль сетевых интерфейсов) по сути являются интеллектуальными сопроцессорами.</p>

<p>Основные методы коммутации:<br>
1.&nbsp;Store&Forward -- с промежуточной буферизацией -- коммутатор получает пакет полностью перед его ретрансляцией; анализируется адрес назначения и проверяется контрольная сумма.<br>
2.&nbsp;Cut Through -- без промежуточной буферизации -- коммутатор не дожидается получения пакета целиком; анализируется лишь адрес назначения.<br>
3.&nbsp;Fragment Free -- модифицированный метод с промежуточной буферизацией -- перед тем как осуществить коммутацию, коммутатор ожидает получение первых 64 байтов пакета; таким образом, если в пакете присутствует ошибка, то она почти всегда обнаруживается путем анализа этих байтов.<br>
4.&nbsp;Hybrid -- гибридный -- поочередное адаптивное применение перечисленных методов.</p>

<p>В основу работы классического коммутатора второго уровня положена таблица MAC-адресов, по-другому называемая CAM-таблицей (Content Addressable Memory). По сути, в таблице хранится соответствие MAC-адресов и портов. При приеме юникаст-кадра некоторым портом, коммутатор связывает MAC-адрес источника с номером этого порта и заносит в таблицу (этот процесс и называется изучением). При ретрансляции кадра порт для передачи определяется исходя из MAC-адреса назначения по таблице. Широковещательный кадр и кадр с еще незнакомым юникаст-MAC-адресом назначения ретранслируются всеми портами. Для передачи мультикаст-кадров в правильных направлениях нужна особая поддержка (IPv4 IGMP и IPv6 MLD).</p>

<p>При ретрансляции пакетов (Smart-коммутаторами) учитываются виланы.</p>

<p>MAC-адреса в CAM-таблице коммутатора могут быть двух видов:<br>
1.&nbsp;<em>Динамические</em> (dynamic) -- изучаются коммутатором автоматически.<br>
2.&nbsp;<em>Статические</em> (static) -- администратор «вручную» привязывает их к портам по одному или по несколько.</p>

<p>В случае с более совершенными коммутаторами, добавлены возможности работы с адресами сетевого уровня. Традиционно выделяются три основных типа коммутаторов третьего уровня («гибриды» коммутаторов и маршрутизаторов):<br>
1.&nbsp;<em>Маршрутизирующие коммутаторы</em> (routing switches) -- направление ретрансляции определяется на основе анализа информации, относящейся к третьему уровню в заголовке пакета; от маршрутизаторов отличаются виртуальностью сетевых интерфейсов.<br>
2.&nbsp;<em>Коммутаторы потоков</em> (flow switches) -- выполняются попытки обнаружить продолжительные потоки пакетов между двумя станциями; после того, как факт наличия потока установлен на третьем уровне, дальнейшая коммутация осуществляется традиционным способом.<br>
3.&nbsp;<em>Коммутирующие маршрутизаторы</em> (switching routers) -- выполняются попытки снизить расчетную нагрузку с маршрутизатора и возложить часть функций на уровень коммутации.</p>

<p>Собственно маршрутизаторы представляют собой высокоспециализированное и высокоинтеллектуальное сетевое оборудование и имеют встроенные ОС. Функции маршрутизаторов выполняют также шлюзовые и пользовательские станции-компьютеры -- речь идет о сугубо программной, а не «аппаратной» маршрутизации.</p>

<p>«Вершиной» активного сетевого оборудования являются шлюзы. Шлюзы необязательно являются компьютерами -- как и маршрутизаторы, они изготавливаются и в высокоспециализированном виде.</p>

<p>Таким образом, получается следующая картина «привязки» активного сетевого оборудования к уровням модели OSI.</p>

<div align="center">
<img src="lk03.01.bmp">
<br>
Рисунок -- Активное сетевое оборудование и модель OSI
</div>

<p>Характеристики и критерии выбора активного сетевого оборудования:<br>
1.&nbsp;Область применения: workgroup -- для рабочих групп, backbone (core) -- магистральные.<br>
2.&nbsp;Тип и число физических портов: 4 (плюс 1), 8, 12, 16, 20 (больше редко).<br>
3.&nbsp;Уровень модели OSI: L2, L2+, L3, L3+.<br>
4.&nbsp;Набор поддерживаемых протоколов маршрутизации (актуально для L3-устройств).<br>
5.&nbsp;Управляемость: unmanaged -- неуправляемые, managed -- управляемые (свой IP адрес, выделенная консоль RS-232C, web-интерфейс, SNMP).<br>
6.&nbsp;Структура: fixed -- фиксированная, modular -- модульная.<br>
7.&nbsp;Возможность масштабирования: unstackable -- нестекируемые, stackable -- стекируемые.<br>
8.&nbsp;Наличие разъемов расширений: стандартных и оригинальных.<br>
9.&nbsp;Технические характеристики: размеры таблиц, времена задержек и другие.<br>
10.&nbsp;Суммарная пропускная способность (стоит выделить отдельно).<br>
11.&nbsp;Возможность автоматическго определения скорости и режима (физического соединения): Auto-Negotiation и Auto-MDI/MDIX.<br>
12.&nbsp;Поддержка виртуальных ЛКС: VLANs.<br>
13.&nbsp;Поддержка агрегирования каналов (портов): link aggregation (port trunking).<br>
14.&nbsp;Поддержка дополнительных возможностей по обеспечению безопасности: Port Security и Access Control Lists.<br>
15.&nbsp;Поддержка качества обслуживания: QoS.</p>

<p>Производители активного сетевого оборудования (и их известные торговые марки):<br>
High-end: Intel (в готовом виде уже давно не производит) (Shiva, Express, NetStructure), 3COM (HP) (OfficeConnect, Baseline, SuperStack),
 HP (ProCurve), Cisco (множество серий коммутаторов Catalyst и маршрутизаторов), Nortel (сейчас Avaya) (Passport, Baystack, Netgear), Alcatel-Lucent (много серий), Avaya (много серий), Juniper (много серий), Allied Telesyn (сейчас Allied Telesis) (много серий), LevelOne (PalmCon, SohoCon, OfficeCon, ProCon, NetCon), SMC (Standard Microsystems Corporation) (TigerSwitch, Barricade Routers), Zyxel (Omni LAN, Dimension), Broadcom (Persona), Marvell (Prestera) и некоторые другие.<br>
Low-end: Huawei, D-Link, Compex, CeLAN, Realtek (компоненты), Surecom и некоторые другие.</p>

</div>

</BODY>
</HTML>
